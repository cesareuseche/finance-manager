{% extends "base.html" %}
{% block content %}
<h2>Hello {{ request.user.username }}!</h2>

<h3>Overview</h3>
<ul>
  <li>Total income:   ${{ total_income }}</li>
  <li>Total expenses: ${{ total_expenses }}</li>
  <li><strong>Balance: ${{ balance }}</strong></li>
</ul>

<a href="{% url 'entry-add' %}">Add income/expense</a>

<h3>Your entries</h3>
<table>
  <tr><th>Date</th><th>Type</th><th>Amount</th><th>Action</th></tr>
  {% for e in entries %}
  <tr>
    <td>{{ e.date }}</td>
    <td>{{ e.get_entry_type_display }}</td>
    <td>${{ e.amount }}</td>
    <td>
      <form method="post" action="{% url 'entry-delete' e.pk %}">
        {% csrf_token %}<button>Delete</button>
      </form>
    </td>
  </tr>
  {% empty %}
    <tr><td colspan="4">No entries yet.</td></tr>
  {% endfor %}
</table>
{% endblock %}
